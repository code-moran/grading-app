(()=>{var e={};e.id=3,e.ids=[3],e.modules={55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},25528:e=>{"use strict";e.exports=require("next/dist\\client\\components\\action-async-storage.external.js")},91877:e=>{"use strict";e.exports=require("next/dist\\client\\components\\request-async-storage.external.js")},25319:e=>{"use strict";e.exports=require("next/dist\\client\\components\\static-generation-async-storage.external.js")},57310:e=>{"use strict";e.exports=require("url")},23809:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>h,tree:()=>c});var r=t(67096),a=t(16132),l=t(37284),n=t.n(l),d=t(32564),i={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(i[e]=()=>d[e]);t.d(s,i);let c=["",{children:["admin",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,13729)),"C:\\Users\\admin\\projects\\grading-app\\app\\admin\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,66611)),"C:\\Users\\admin\\projects\\grading-app\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,9291,23)),"next/dist/client/components/not-found-error"]}],o=["C:\\Users\\admin\\projects\\grading-app\\app\\admin\\page.tsx"],x="/admin/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/admin/page",pathname:"/admin",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},28328:(e,s,t)=>{Promise.resolve().then(t.bind(t,84082))},84082:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>AdminDashboard});var r=t(30784),a=t(9885),l=t(74284),n=t(7152),d=t(93935),i=t(11440),c=t.n(i),o=t(91672),x=t(16920),m=t(97018),h=t(78937),g=t(51831),u=t(92032),p=t(37631),j=t(35256),b=t(5987),N=t(50007);function AdminDashboard(){let{data:e}=(0,l.useSession)(),[s,t]=(0,a.useState)(null),[i,v]=(0,a.useState)([]),[f,w]=(0,a.useState)(!0),[y,_]=(0,a.useState)("");(0,a.useEffect)(()=>{fetchStats()},[]);let fetchStats=async()=>{try{w(!0);let e=await fetch("/api/admin/stats");if(!e.ok)throw Error("Failed to fetch statistics");let s=await e.json();t(s.stats),v(s.recentRegistrations||[])}catch(e){_(e.message)}finally{w(!1)}};return e?.user?.role!=="admin"?r.jsx(n.Z,{requiredRole:"admin",children:r.jsx("div",{children:"Unauthorized"})}):r.jsx(n.Z,{requiredRole:"admin",children:(0,r.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[r.jsx(d.Z,{}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[r.jsx("h1",{className:"text-3xl md:text-4xl font-bold text-gray-900 mb-2",children:"Admin Dashboard"}),(0,r.jsxs)("p",{className:"text-gray-600",children:["Welcome back, ",r.jsx("span",{className:"font-semibold",children:e?.user?.name}),". Manage your platform from here."]})]}),y&&r.jsx("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg mb-6",children:y}),f?r.jsx("div",{className:"flex justify-center items-center py-12",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})}):(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg",children:r.jsx(o.Z,{className:"h-6 w-6 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?.totalUsers||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Total Users"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-lg",children:r.jsx(x.Z,{className:"h-6 w-6 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?.totalStudents||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Students"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg",children:r.jsx(m.Z,{className:"h-6 w-6 text-purple-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?.totalInstructors||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Instructors"})]})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg",children:r.jsx(h.Z,{className:"h-6 w-6 text-indigo-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s?.activeCourses||0}),r.jsx("div",{className:"text-sm text-gray-600",children:"Active Courses"})]})]})})]}),s&&s.pendingInstructors>0&&r.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 mb-8",children:(0,r.jsxs)("div",{className:"flex items-center",children:[r.jsx(g.Z,{className:"h-5 w-5 text-yellow-600 mr-3"}),(0,r.jsxs)("div",{className:"flex-1",children:[(0,r.jsxs)("h3",{className:"font-semibold text-yellow-900",children:[s.pendingInstructors," Pending Instructor",1!==s.pendingInstructors?"s":""]}),r.jsx("p",{className:"text-sm text-yellow-700",children:"Review and approve instructor applications"})]}),r.jsx(c(),{href:"/admin/instructors",className:"ml-4 bg-yellow-600 text-white px-4 py-2 rounded-lg hover:bg-yellow-700 transition-colors font-medium text-sm",children:"Review Now"})]})}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)(c(),{href:"/admin/instructors",className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-purple-100 p-3 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(u.Z,{className:"h-6 w-6 text-purple-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Instructor Approvals"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[s?.pendingInstructors||0," pending"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-purple-600 text-sm font-medium",children:["Manage approvals",r.jsx(p.Z,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),(0,r.jsxs)(c(),{href:"/courses",className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-blue-100 p-3 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(h.Z,{className:"h-6 w-6 text-blue-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Course Management"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[s?.activeCourses||0," active courses"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-blue-600 text-sm font-medium",children:["Manage courses",r.jsx(p.Z,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),(0,r.jsxs)(c(),{href:"/students",className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-green-100 p-3 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(o.Z,{className:"h-6 w-6 text-green-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Student Management"}),(0,r.jsxs)("p",{className:"text-sm text-gray-600",children:[s?.totalStudents||0," students"]})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-green-600 text-sm font-medium",children:["Manage students",r.jsx(p.Z,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),(0,r.jsxs)(c(),{href:"/instructor/grades",className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-indigo-100 p-3 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(j.Z,{className:"h-6 w-6 text-indigo-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Grade Reports"}),r.jsx("p",{className:"text-sm text-gray-600",children:"View all grades"})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-indigo-600 text-sm font-medium",children:["View reports",r.jsx(p.Z,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),(0,r.jsxs)(c(),{href:"/admin/courses",className:"bg-white rounded-xl shadow-md p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 group",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-orange-100 p-3 rounded-lg group-hover:scale-110 transition-transform",children:r.jsx(h.Z,{className:"h-6 w-6 text-orange-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"Lesson Management"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Manage course content"})]})]}),(0,r.jsxs)("div",{className:"flex items-center text-orange-600 text-sm font-medium",children:["Manage lessons",r.jsx(p.Z,{className:"ml-2 h-4 w-4 group-hover:translate-x-1 transition-transform"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center mb-4",children:[r.jsx("div",{className:"bg-gray-100 p-3 rounded-lg",children:r.jsx(b.Z,{className:"h-6 w-6 text-gray-600"})}),(0,r.jsxs)("div",{className:"ml-4",children:[r.jsx("h3",{className:"text-lg font-bold text-gray-900",children:"System Settings"}),r.jsx("p",{className:"text-sm text-gray-600",children:"Platform configuration"})]})]}),r.jsx("div",{className:"text-gray-500 text-sm font-medium",children:"Coming soon"})]})]}),(0,r.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-6 border border-gray-100",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[r.jsx("h2",{className:"text-xl font-bold text-gray-900",children:"Recent Registrations"}),r.jsx(c(),{href:"/admin/users",className:"text-sm text-blue-600 hover:text-blue-700 font-medium",children:"View All"})]}),0===i.length?r.jsx("p",{className:"text-gray-500 text-center py-4",children:"No recent registrations"}):r.jsx("div",{className:"space-y-3",children:i.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg hover:bg-gray-100 transition-colors",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx("div",{className:`p-2 rounded-lg ${"student"===e.role?"bg-green-100":"instructor"===e.role?"bg-purple-100":"bg-blue-100"}`,children:"student"===e.role?r.jsx(x.Z,{className:"h-4 w-4 text-green-600"}):"instructor"===e.role?r.jsx(m.Z,{className:"h-4 w-4 text-purple-600"}):r.jsx(b.Z,{className:"h-4 w-4 text-blue-600"})}),(0,r.jsxs)("div",{children:[r.jsx("div",{className:"font-medium text-gray-900",children:e.name}),r.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[r.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${"student"===e.role?"bg-green-100 text-green-700":"instructor"===e.role?"bg-purple-100 text-purple-700":"bg-blue-100 text-blue-700"}`,children:e.role}),r.jsx("span",{className:"text-xs text-gray-500",children:new Date(e.createdAt).toLocaleDateString()})]})]},e.id))})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mt-8",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-600 rounded-xl shadow-lg p-6 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-blue-100",children:"Total Subscriptions"}),r.jsx(N.Z,{className:"h-5 w-5"})]}),r.jsx("div",{className:"text-3xl font-bold",children:s?.totalSubscriptions||0}),r.jsx("div",{className:"text-blue-100 text-sm mt-1",children:"Active course enrollments"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-green-600 to-emerald-600 rounded-xl shadow-lg p-6 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-green-100",children:"Approved Instructors"}),r.jsx(u.Z,{className:"h-5 w-5"})]}),r.jsx("div",{className:"text-3xl font-bold",children:s?.approvedInstructors||0}),r.jsx("div",{className:"text-green-100 text-sm mt-1",children:"Active instructors"})]}),(0,r.jsxs)("div",{className:"bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl shadow-lg p-6 text-white",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-2",children:[r.jsx("span",{className:"text-purple-100",children:"Total Courses"}),r.jsx(h.Z,{className:"h-5 w-5"})]}),r.jsx("div",{className:"text-3xl font-bold",children:s?.totalCourses||0}),r.jsx("div",{className:"text-purple-100 text-sm mt-1",children:"All courses created"})]})]})]})]})]})})}},13729:(e,s,t)=>{"use strict";t.r(s),t.d(s,{$$typeof:()=>n,__esModule:()=>l,default:()=>i});var r=t(95153);let a=(0,r.createProxy)(String.raw`C:\Users\admin\projects\grading-app\app\admin\page.tsx`),{__esModule:l,$$typeof:n}=a,d=a.default,i=d}};var s=require("../../webpack-runtime.js");s.C(e);var __webpack_exec__=e=>s(s.s=e),t=s.X(0,[657,9045,1440,3528,8200,986,5764,7134,3935,7152],()=>__webpack_exec__(23809));module.exports=t})();